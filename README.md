# TP3_Systeme_exploitation
Entrées / sorties  différences entre IO “bufferisées” et appels systèmes
Ce TP compare les performances des opérations d'I/O en mode tampon (fread/fwrite) par rapport aux appels système (read/write) en C.

## Afin de povoir commencer

1. Décompressez le projet.
2. Le Tp contient uniquement les fichiers suivantes :
   - `copy_functions.h`
   - `copy_functions.c`
   - `copybench.c`
   - `Makefile`
   - `README.md`

## Comment nous pouvons tester ce tp

### Etape 1: Générer les fichier de test
```bash
make bigfile
```
Cette commande va faire :
- Créer un fichier de 10MB nommé 'bigfile' en utilisant des données aléeatoires
- Utiliser la commande dd avec /dev/urandom comme source. 
- Ce fichier sera utilisée pour les tests de performance. 

### Etape 2: Compiler le Programme
```bash
make copybench
```

### Etape 3: Lancer le Benchmark
```bash
make run
```
Cela exécutera le benchmark en utilisant le fichier 'bigfile' généré et affichera le resultats de temps pour:
- read/write avec 1-byte buffer
- fread/fwrite avec 1-byte buffer
- read/write avec 32KB buffer
- fread/fwrite avec 32KB buffer

### Command unique pour tout exécuter
```bash
make run
```
Cela va automatiquement:
1. Créer le fichier de test (s'il n'existe pas).
2. Compiler le programme.
3. Exécuter le benchmark

### Nettoyer
```bash
make clean
```
Supprime tous les fichiers générés (exécutables, fichiers object, fichier de test).

## Exemple de sortie
```
Copied (read/write) "bigfile" into "output_file" (10240KB in chunks of 1 bytes) in 125968.3 ms
Copied (fread/fwrite) "bigfile" into "output_file" (10240KB in chunks of 1 bytes) in 386.2 ms
Copied (read/write) "bigfile" into "output_file" (10240KB in chunks of 32768 bytes) in 38.6 ms
Copied (fread/fwrite) "bigfile" into "output_file" (10240KB in chunks of 32768 bytes) in 30.0 ms
```

## Commandes Make disponibles
```bash
make help        # Affiche toutes les commandes disponibles
make bigfile     # Génère le fichier de test (10MB de données aléatoires)
make copybench   # Compile le programme
make run         # Exécute le benchmark complet
make clean       # Supprime tous les fichiers générés
```

## Notes importantes pour le test
1. Il faut pas s'inquieter si des fichier de test manquent (bigfile, output_file) - Le Makefile les générera.
2. Chaque commande 'make run' va:
   - Crée un nouveau fichier de test si nécessaire.
   - Exécute les quatre méthodes de copie.
   - Affiche les résultats de temps. 

## Analyse de Résults
Le benchmark démontre:
1. L'Impact dem la taille  du buffer  (1 byte vs 32KB)
2. La difference entre l'I/O  en mode buffered et les appels de system.
3. La meilleure combinaison de performance (buffered I/O avec large buffer)


## Bibliographie
- Advanced Linux Programming  Authors: Mark Mitchell, Jeffrey Oldham, and Alex Samuel
- The Linux Programming Interface A Linux and UNIX System Programming Handbook Michael Kerrisk
- https://www.youtube.com/watch?v=FyPqII2rewA

